<mxfile host="app.diagrams.net" modified="2022-10-19T08:32:14.815Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36" etag="O-rSXPKOChC_2ZJQR7PD" version="16.4.2" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="860" dy="569" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nt3BhIiPRu7kgH60z5Zs-0" target="nt3BhIiPRu7kgH60z5Zs-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="280" y="100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nt3BhIiPRu7kgH60z5Zs-0" target="nt3BhIiPRu7kgH60z5Zs-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-0" value="粗阶段检测" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="60" y="70" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-2" value="方案 1. Dynamic AABB&lt;br&gt;&lt;div&gt;&lt;span&gt;方案 2. Sweep And Prune&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="250" y="85" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nt3BhIiPRu7kgH60z5Zs-3" target="nt3BhIiPRu7kgH60z5Zs-6">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="250" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nt3BhIiPRu7kgH60z5Zs-3" target="nt3BhIiPRu7kgH60z5Zs-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-3" value="窄阶段检测" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="60" y="190" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-6" value="方案 GJK &amp;amp; EPA&lt;br&gt;通过EPA获得穿透向量，可用于冲量计算中" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="250" y="205" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nt3BhIiPRu7kgH60z5Zs-7" target="nt3BhIiPRu7kgH60z5Zs-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="250" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nt3BhIiPRu7kgH60z5Zs-7" target="nt3BhIiPRu7kgH60z5Zs-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-7" value="将碰撞体当帧的力计算成碰撞体的速度" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="60" y="320" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nt3BhIiPRu7kgH60z5Zs-8" target="nt3BhIiPRu7kgH60z5Zs-13">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="250" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nt3BhIiPRu7kgH60z5Zs-8" target="nt3BhIiPRu7kgH60z5Zs-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-8" value="处理碰撞体穿透，应用碰撞体速度" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="60" y="450" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-10" value="速度公式 Ve = Vs + tickFrame * F / m" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="250" y="335" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-13" value="&lt;div&gt;1. 方法1：使用碰撞检测中得出的穿透向量&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; - 计算穿透深度，根据深度值对冲量结果做插值，起到偏置冲量的平滑作用&lt;/div&gt;&lt;div&gt;2. 方法2：计算每个碰撞面（边）法线方向上的冲量和偏置冲量&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - Pn = max(-△v * n / Kn, 0)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - 法线方向的冲量用于产生瞬间的速度变化，防止穿透。&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - 有摩擦力的系统中，切线方向的冲量用于产生摩擦力&lt;/div&gt;&lt;div&gt;3. 偏置冲量用于给法线方向冲量添加与穿透深度正相关的额外冲量&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="250" y="407.5" width="450" height="145" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nt3BhIiPRu7kgH60z5Zs-15" target="nt3BhIiPRu7kgH60z5Zs-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-15" value="应用速度到碰撞体的位置" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="60" y="585" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nt3BhIiPRu7kgH60z5Zs-17" target="nt3BhIiPRu7kgH60z5Zs-21">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="260" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-17" value="触发上层碰撞事件" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="60" y="720" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nt3BhIiPRu7kgH60z5Zs-21" value="1. OnTriggerXXX&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;2. OnCollisionXXX&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="250" y="712.5" width="210" height="75" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
